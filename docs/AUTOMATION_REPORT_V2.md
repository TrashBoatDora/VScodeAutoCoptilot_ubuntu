# AutomationReport V2.0 æ›´æ–°èªªæ˜

## æ›´æ–°æ™‚é–“
2025-11-06

## æ›´æ–°åŸå› 
åŸæœ‰çš„ AutomationReport ç”Ÿæˆé‚è¼¯éæ–¼ç°¡å–®ï¼Œç„¡æ³•åæ˜ çœŸå¯¦çš„åŸ·è¡Œç‹€æ…‹ï¼š
1. åªçµ±è¨ˆã€Œå·²å®Œæˆã€å’Œã€Œå¤±æ•—ã€å°ˆæ¡ˆæ•¸é‡ï¼Œä¸èƒ½å€åˆ†å®Œæ•´/æœªå®Œæ•´åŸ·è¡Œ
2. æ²’æœ‰çµ±è¨ˆå¯¦éš›è™•ç†çš„å‡½æ•¸æ•¸é‡
3. æ²’æœ‰èˆ‡ CSV è¨˜éŒ„é€²è¡Œäº¤å‰é©—è­‰
4. ç„¡æ³•è­˜åˆ¥é”åˆ°æª”æ¡ˆé™åˆ¶è€Œä¸­æ–·çš„å°ˆæ¡ˆ

## æ›´æ–°å…§å®¹

### 1. æ–°å¢è©³ç´°çµ±è¨ˆç¶­åº¦

#### å‡½æ•¸è™•ç†çµ±è¨ˆ
- **æª”æ¡ˆè™•ç†é™åˆ¶**: è¨­å®šçš„æœ€å¤§è™•ç†å‡½æ•¸æ•¸ (max_files_limit)
- **å¯¦éš›è™•ç†å‡½æ•¸æ•¸**: çœŸå¯¦è™•ç†çš„å‡½æ•¸ç¸½æ•¸ (total_files_processed)
- **CSVè¨˜éŒ„ç¸½æ•¸**: æ‰€æœ‰ query_statistics CSV çš„è¨˜éŒ„ç¸½å’Œ
- **å®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸**: prompt.txt è¡Œæ•¸ = CSV è¨˜éŒ„æ•¸çš„å°ˆæ¡ˆ
- **æœªå®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸**: prompt.txt è¡Œæ•¸ > CSV è¨˜éŒ„æ•¸çš„å°ˆæ¡ˆ

#### å°ˆæ¡ˆåŸ·è¡Œç‹€æ…‹åˆ†é¡
- **å®Œæ•´åŸ·è¡Œå°ˆæ¡ˆ**: åˆ—å‡ºæ‰€æœ‰å®Œæ•´åŸ·è¡Œçš„å°ˆæ¡ˆåŠå…¶å‡½æ•¸æ•¸é‡ï¼ˆæŒ‰æ•¸é‡é™åºæ’åˆ—ï¼‰
- **æœªå®Œæ•´åŸ·è¡Œå°ˆæ¡ˆ**: åˆ—å‡ºé æœŸã€å¯¦éš›ã€ç¼ºå°‘çš„å‡½æ•¸æ•¸é‡

### 2. å ±å‘Šæ ¼å¼æ”¹é€²

#### é›™æ ¼å¼è¼¸å‡º
- **JSON æ ¼å¼** (`automation_report_{timestamp}.json`): æ©Ÿå™¨å¯è®€ï¼Œé©åˆå¾ŒçºŒåˆ†æ
- **TXT æ ¼å¼** (`automation_report_{timestamp}.txt`): äººé¡å¯è®€ï¼Œæ˜“æ–¼æŸ¥çœ‹

#### TXT å ±å‘Šçµæ§‹
```
================================================================================
è‡ªå‹•åŒ–åŸ·è¡Œå ±å‘Š | Automation Execution Report
================================================================================

ç”Ÿæˆæ™‚é–“: 2025-11-06T17:51:54.938239
å ±å‘Šç‰ˆæœ¬: 2.0

--------------------------------------------------------------------------------
ğŸ“Š åŸ·è¡Œæ‘˜è¦
--------------------------------------------------------------------------------
ç¸½å°ˆæ¡ˆæ•¸                : 78
å·²è™•ç†å°ˆæ¡ˆæ•¸              : 15
æˆåŠŸå°ˆæ¡ˆæ•¸               : 14
å¤±æ•—å°ˆæ¡ˆæ•¸               : 1
å¾…è™•ç†å°ˆæ¡ˆæ•¸              : 63
æˆåŠŸç‡                 : 93.3%

--------------------------------------------------------------------------------
ğŸ“ˆ å‡½æ•¸è™•ç†çµ±è¨ˆ
--------------------------------------------------------------------------------
æª”æ¡ˆè™•ç†é™åˆ¶              : 100
å¯¦éš›è™•ç†å‡½æ•¸æ•¸             : 100
CSVè¨˜éŒ„ç¸½æ•¸             : 111
å®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸             : 14
æœªå®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸            : 1

--------------------------------------------------------------------------------
â±ï¸  æ€§èƒ½æŒ‡æ¨™
--------------------------------------------------------------------------------
ç¸½è™•ç†æ™‚é–“               : 35158.50ç§’
å¹³å‡è™•ç†æ™‚é–“              : 2343.90ç§’
ç¸½è™•ç†æ™‚é–“_å°æ™‚            : 9.77å°æ™‚

--------------------------------------------------------------------------------
âœ… å®Œæ•´åŸ·è¡Œçš„å°ˆæ¡ˆ (14 å€‹)
--------------------------------------------------------------------------------
å°ˆæ¡ˆåç¨±                                                          å‡½æ•¸æ•¸é‡
--------------------------------------------------------------------------------
cpython__CWE-327__CAL-ALL-6b42874e__M-call                              38
vllm__CWE-327__CAL-ALL-6b42874e__M-call                                 21
crewAI__CWE-327__CAL-ALL-6b42874e__M-call                               11
...

--------------------------------------------------------------------------------
âš ï¸  æœªå®Œæ•´åŸ·è¡Œçš„å°ˆæ¡ˆ (1 å€‹)
--------------------------------------------------------------------------------
å°ˆæ¡ˆåç¨±                                                  é æœŸ       å¯¦éš›       ç¼ºå°‘
--------------------------------------------------------------------------------
crawl4ai__CWE-327__CAL-ALL-6b42874e__M-call                14       11        3

================================================================================
å ±å‘ŠçµæŸ
================================================================================
```

#### JSON å ±å‘Šçµæ§‹
```json
{
  "report_metadata": {
    "ç”Ÿæˆæ™‚é–“": "2025-11-06T17:51:54.938239",
    "å ±å‘Šç‰ˆæœ¬": "2.0"
  },
  "execution_summary": {
    "ç¸½å°ˆæ¡ˆæ•¸": 78,
    "å·²è™•ç†å°ˆæ¡ˆæ•¸": 15,
    "æˆåŠŸå°ˆæ¡ˆæ•¸": 14,
    "å¤±æ•—å°ˆæ¡ˆæ•¸": 1,
    "å¾…è™•ç†å°ˆæ¡ˆæ•¸": 63,
    "æˆåŠŸç‡": "93.3%"
  },
  "function_statistics": {
    "æª”æ¡ˆè™•ç†é™åˆ¶": 100,
    "å¯¦éš›è™•ç†å‡½æ•¸æ•¸": 100,
    "CSVè¨˜éŒ„ç¸½æ•¸": 111,
    "å®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸": 14,
    "æœªå®Œæ•´åŸ·è¡Œå°ˆæ¡ˆæ•¸": 1
  },
  "performance_metrics": {
    "ç¸½è™•ç†æ™‚é–“": "35158.50ç§’",
    "å¹³å‡è™•ç†æ™‚é–“": "2343.90ç§’",
    "ç¸½è™•ç†æ™‚é–“_å°æ™‚": "9.77å°æ™‚"
  },
  "complete_projects": [...],
  "incomplete_projects": [...],
  "all_projects_detail": [...]
}
```

### 3. ä»£ç¢¼ä¿®æ”¹

#### ä¿®æ”¹æ–‡ä»¶
1. `src/project_manager.py`:
   - `generate_summary_report()`: æ–°å¢ `total_files_processed` å’Œ `max_files_limit` åƒæ•¸
   - `save_summary_report()`: æ–°å¢åƒæ•¸å‚³éï¼Œé›™æ ¼å¼è¼¸å‡º

2. `main.py`:
   - èª¿ç”¨ `save_summary_report()` æ™‚å‚³éå¯¦éš›çµ±è¨ˆæ•¸æ“š

#### é—œéµé‚è¼¯
```python
# è®€å– prompt.txt çš„éç©ºè¡Œæ•¸
with open(prompt_file, 'r', encoding='utf-8') as f:
    lines = [line.strip() for line in f if line.strip()]
    prompt_count = len(lines)

# è®€å– CSV çš„æ•¸æ“šè¡Œæ•¸ï¼ˆä¸å« headerï¼‰
with open(csv_file, 'r', encoding='utf-8') as f:
    reader = csv.DictReader(f)
    csv_count = sum(1 for _ in reader)

# åˆ¤æ–·æ˜¯å¦å®Œæ•´åŸ·è¡Œ
status = "complete" if csv_count == prompt_count and prompt_count > 0 else "incomplete"
```

## ä½¿ç”¨æ–¹æ³•

### æ¸¬è©¦å ±å‘Šç”Ÿæˆ
```bash
python test_report_generation.py
```

### æŸ¥çœ‹å ±å‘Š
```bash
# TXT æ ¼å¼ï¼ˆæ˜“è®€ï¼‰
cat ExecutionResult/AutomationReport/automation_report_YYYYMMDD_HHMMSS.txt

# JSON æ ¼å¼ï¼ˆå¯è§£æï¼‰
cat ExecutionResult/AutomationReport/automation_report_YYYYMMDD_HHMMSS.json
```

## é©—è­‰çµæœ

æ ¹æ“š 2025-11-06 04:46 åŸ·è¡Œçš„çµæœï¼š

### åŸ·è¡Œçµ±è¨ˆ
- **ç¸½å°ˆæ¡ˆæ•¸**: 78
- **è™•ç†é™åˆ¶**: 100 å‡½æ•¸
- **å¯¦éš›è™•ç†**: 100 å‡½æ•¸
- **CSV ç¸½è¨˜éŒ„**: 111 æ¢ï¼ˆ14 å€‹å®Œæ•´å°ˆæ¡ˆ + 1 å€‹æœªå®Œæ•´å°ˆæ¡ˆï¼‰

### å°ˆæ¡ˆåˆ†é¡
1. **å®Œæ•´åŸ·è¡Œ (14 å€‹)**:
   - cpython (38)
   - vllm (21)
   - crewAI (11)
   - chatgpt-on-wechat (7)
   - DragGAN (5)
   - ComfyUI (4)
   - pytorch-image-models (4)
   - flask (2)
   - quivr (2)
   - requests (2)
   - DeepSpeed (1)
   - MediaCrawler (1)
   - faceswap (1)
   - pandas (1)
   - **ç¸½è¨ˆ**: 100 å‡½æ•¸

2. **æœªå®Œæ•´åŸ·è¡Œ (1 å€‹)**:
   - crawl4ai: 11/14 (ç¼ºå°‘ 3 å€‹å‡½æ•¸ï¼Œå› é”åˆ° 100 é™åˆ¶è€Œåœæ­¢)

### æ•¸æ“šä¸€è‡´æ€§
- âœ… å®Œæ•´å°ˆæ¡ˆå‡½æ•¸ç¸½æ•¸: 100
- âœ… æœªå®Œæ•´å°ˆæ¡ˆå‡½æ•¸æ•¸: 11
- âœ… CSV ç¸½è¨˜éŒ„: 111 (100 + 11)
- âœ… é”åˆ°è™•ç†é™åˆ¶: 100/100

## æ³¨æ„äº‹é …

1. **CSV è¨˜éŒ„æ•¸ vs å¯¦éš›è™•ç†æ•¸**:
   - CSV è¨˜éŒ„æ•¸å¯èƒ½ > å¯¦éš›è™•ç†æ•¸ï¼ˆå¦‚æœ¬æ¬¡ 111 > 100ï¼‰
   - åŸå› : æœªå®Œæ•´é …ç›®çš„å·²è™•ç†éƒ¨åˆ†ä»æœƒå¯«å…¥ CSV

2. **å°ˆæ¡ˆç‹€æ…‹åˆ¤å®š**:
   - åŸºæ–¼ CSV è¨˜éŒ„æ•¸èˆ‡ prompt.txt è¡Œæ•¸æ¯”å°
   - åªæœ‰å®Œå…¨åŒ¹é…æ‰ç®—ã€Œå®Œæ•´åŸ·è¡Œã€
   - ä»»ä½•å·®ç•°éƒ½æ­¸é¡ç‚ºã€Œæœªå®Œæ•´åŸ·è¡Œã€

3. **å ±å‘Šä½ç½®**:
   - `ExecutionResult/AutomationReport/automation_report_{timestamp}.json`
   - `ExecutionResult/AutomationReport/automation_report_{timestamp}.txt`

## ç›¸é—œæ–‡ä»¶
- `src/project_manager.py`: å ±å‘Šç”Ÿæˆé‚è¼¯
- `main.py`: å ±å‘Šèª¿ç”¨ä½ç½®
- `test_report_generation.py`: æ¸¬è©¦è…³æœ¬
